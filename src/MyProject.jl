module MyProject 

using Distributed
using SPICE
using Downloads: download
using LinearAlgebra
using NaNMath
using Statistics
using JLD2
using Test
using ThreadsX

include("get_kernels.jl")
include("epoch_computations.jl")
include("epoch_computations_pa.jl")
include("coordinates.jl")
include("coordinates_pa.jl")
include("velocity.jl")
include("velocity_pa.jl")
include("moon.jl")
include("time_loop.jl")
include("parallel_v2.jl")

#set required body paramters as global variables 
#E,S,M radii (units:km)
const earth_radius = bodvrd("EARTH", "RADII")[1]	
const earth_radius_pole = bodvrd("EARTH", "RADII")[3]	
const sun_radius = bodvrd("SUN","RADII")[1]
const moon_radius = bodvrd("MOON", "RADII")[1] 

#timestamps used by NEID
const neid_timestamps = ["2023-10-14T15:26:18", "2023-10-14T15:27:40", "2023-10-14T15:29:03", "2023-10-14T15:30:26", "2023-10-14T15:31:48", "2023-10-14T15:33:11", "2023-10-14T15:34:34", "2023-10-14T15:35:56", "2023-10-14T15:37:19", "2023-10-14T15:38:42", "2023-10-14T15:40:04", "2023-10-14T15:41:27", "2023-10-14T15:42:50", "2023-10-14T15:44:12", "2023-10-14T15:45:35", "2023-10-14T15:46:58", "2023-10-14T15:48:20", "2023-10-14T15:49:43", "2023-10-14T15:51:06", "2023-10-14T15:52:29", "2023-10-14T15:53:51", "2023-10-14T15:55:14", "2023-10-14T15:56:37", "2023-10-14T15:57:59", "2023-10-14T15:59:22", "2023-10-14T16:00:45", "2023-10-14T16:02:07", "2023-10-14T16:03:30", "2023-10-14T16:04:53", "2023-10-14T16:06:15", "2023-10-14T16:07:38", "2023-10-14T16:09:01", "2023-10-14T16:10:23", "2023-10-14T16:11:46", "2023-10-14T16:13:09", "2023-10-14T16:14:31", "2023-10-14T16:15:54", "2023-10-14T16:17:17", "2023-10-14T16:18:39", "2023-10-14T16:20:02", "2023-10-14T16:21:25", "2023-10-14T16:22:48", "2023-10-14T16:24:10", "2023-10-14T16:25:33", "2023-10-14T16:26:56", "2023-10-14T16:28:18", "2023-10-14T16:29:41", "2023-10-14T16:31:04", "2023-10-14T16:32:26", "2023-10-14T16:33:49", "2023-10-14T16:35:12", "2023-10-14T16:36:34", "2023-10-14T16:37:57", "2023-10-14T16:39:20", "2023-10-14T16:40:42", "2023-10-14T16:42:05", "2023-10-14T16:43:28", "2023-10-14T16:44:50", "2023-10-14T16:46:13", "2023-10-14T16:47:36", "2023-10-14T16:48:58", "2023-10-14T16:50:21", "2023-10-14T16:51:44", "2023-10-14T16:53:06", "2023-10-14T16:54:29", "2023-10-14T16:55:52", "2023-10-14T16:57:15", "2023-10-14T16:58:37", "2023-10-14T17:00:00", "2023-10-14T17:01:23", "2023-10-14T17:02:45", "2023-10-14T17:04:08", "2023-10-14T17:05:31", "2023-10-14T17:06:53", "2023-10-14T17:08:16", "2023-10-14T17:09:39", "2023-10-14T17:11:01", "2023-10-14T17:12:24", "2023-10-14T17:13:47", "2023-10-14T17:15:09", "2023-10-14T17:16:32", "2023-10-14T17:17:55", "2023-10-14T17:19:17", "2023-10-14T17:20:40", "2023-10-14T17:22:03", "2023-10-14T17:23:25", "2023-10-14T17:24:48", "2023-10-14T17:26:11", "2023-10-14T17:27:34", "2023-10-14T17:28:56", "2023-10-14T17:30:19", "2023-10-14T17:31:42", "2023-10-14T17:33:04", "2023-10-14T17:34:27", "2023-10-14T17:35:50", "2023-10-14T17:37:12", "2023-10-14T17:38:35", "2023-10-14T17:39:58", "2023-10-14T17:41:20", "2023-10-14T17:42:43", "2023-10-14T17:44:06", "2023-10-14T17:45:28", "2023-10-14T17:46:51", "2023-10-14T17:48:14", "2023-10-14T17:49:36", "2023-10-14T17:50:59", "2023-10-14T17:52:22", "2023-10-14T17:53:44", "2023-10-14T17:55:07", "2023-10-14T17:56:30", "2023-10-14T17:57:53", "2023-10-14T17:59:15", "2023-10-14T18:00:38", "2023-10-14T18:02:01", "2023-10-14T18:03:23", "2023-10-14T18:04:46", "2023-10-14T18:06:09", "2023-10-14T18:07:31", "2023-10-14T18:08:54", "2023-10-14T18:10:17", "2023-10-14T18:11:39", "2023-10-14T18:13:02", "2023-10-14T18:14:25", "2023-10-14T18:15:47", "2023-10-14T18:17:10", "2023-10-14T18:18:33", "2023-10-14T18:19:55", "2023-10-14T18:21:18", "2023-10-14T18:22:41", "2023-10-14T18:24:03", "2023-10-14T18:25:26", "2023-10-14T18:26:49", "2023-10-14T18:28:11", "2023-10-14T18:29:34", "2023-10-14T18:30:57", "2023-10-14T18:32:20", "2023-10-14T18:33:42", "2023-10-14T18:35:05", "2023-10-14T18:36:28", "2023-10-14T18:37:50", "2023-10-14T18:39:13", "2023-10-14T18:40:36", "2023-10-14T18:41:58", "2023-10-14T18:43:21", "2023-10-14T18:44:44", "2023-10-14T18:46:06", "2023-10-14T18:47:29", "2023-10-14T18:48:52", "2023-10-14T18:50:14", "2023-10-14T18:51:37", "2023-10-14T18:53:00", "2023-10-14T18:54:22", "2023-10-14T18:55:45", "2023-10-14T18:57:08", "2023-10-14T18:58:30", "2023-10-14T18:59:53", "2023-10-14T19:01:16", "2023-10-14T19:02:39"]

include("test/runtests.jl")

end #module